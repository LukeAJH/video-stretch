{\rtf1\ansi\ansicpg1252\cocoartf2867
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fswiss\fcharset0 Helvetica;}
{\colortbl;\red255\green255\blue255;}
{\*\expandedcolortbl;;}
\paperw11900\paperh16840\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0

\f0\fs24 \cf0 <!DOCTYPE html>\
<html lang="en">\
<head>\
  <meta charset="UTF-8" />\
  <title>Video Time Stretch</title>\
  <style>\
    body \{ font-family: sans-serif; padding: 2rem; max-width: 700px; \}\
    input, button \{ margin: 0.5rem 0; \}\
  </style>\
</head>\
<body>\
  <h1>Slow Video to Target Duration</h1>\
\
  <input type="file" id="videoInput" accept="video/*" />\
  <br />\
  <label>Target duration (seconds):</label>\
  <input type="number" id="targetDuration" min="1" />\
  <br />\
  <button id="process">Process Video</button>\
\
  <p id="status"></p>\
\
  <script src="https://unpkg.com/@ffmpeg/ffmpeg@0.12.6/dist/ffmpeg.min.js"></script>\
  <script>\
    const \{ FFmpeg \} = FFmpegWASM;\
    const ffmpeg = new FFmpeg();\
\
    const status = document.getElementById('status');\
\
    document.getElementById('process').onclick = async () => \{\
      const fileInput = document.getElementById('videoInput');\
      const target = parseFloat(document.getElementById('targetDuration').value);\
\
      if (!fileInput.files.length || !target) \{\
        alert('Select a video and target duration');\
        return;\
      \}\
\
      status.textContent = 'Loading FFmpeg\'85';\
      if (!ffmpeg.loaded) await ffmpeg.load();\
\
      const file = fileInput.files[0];\
      await ffmpeg.writeFile('input.mp4', await FFmpegUtil.fetchFile(file));\
\
      status.textContent = 'Reading duration\'85';\
      const info = await ffmpeg.exec(['-i', 'input.mp4']);\
\
      // Hard-coded example duration (FFmpeg.wasm limitation)\
      // Replace with real duration parsing if needed\
      const originalDuration = 10; \
      const speedFactor = originalDuration / target;\
\
      status.textContent = 'Processing\'85';\
      await ffmpeg.exec([\
        '-i', 'input.mp4',\
        '-filter:v', `setpts=$\{1 / speedFactor\}*PTS`,\
        '-an',\
        'output.mp4'\
      ]);\
\
      const data = await ffmpeg.readFile('output.mp4');\
      const url = URL.createObjectURL(new Blob([data.buffer], \{ type: 'video/mp4' \}));\
\
      const a = document.createElement('a');\
      a.href = url;\
      a.download = 'stretched-video.mp4';\
      a.click();\
\
      status.textContent = 'Done';\
    \};\
  </script>\
</body>\
</html>\
}